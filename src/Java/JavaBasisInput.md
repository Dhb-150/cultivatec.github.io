---
title: Java 基础学习输入
category: Java
tag:
  - Java 基础
head:
  - - meta
    - name: keywords
      content: 面向对象,构造方法,接口,抽象类,String,Object
  - - meta
    - name: description
      content: 知识输入
---
## String类常用方法
String 类在 Java 中是非常基础且常用的一个类，其方法可以粗略地被分为几个类别：

1. **查询类方法** - 用于字符串的查询信息，如长度、字符位置等
   - `length()` - 返回字符串长度。<br />
      ><em>使用示例：在用户输入验证时检查字符串是否为空或者达到了一定的长度要求。</em>
   - `charAt(index)` - 返回指定索引处的字符。<br />
     ><em>使用示例：在循环中逐个分析字符串的每个字符，如在编写编码器、解码器等场合。</em>
   - `indexOf(str)` - 返回指定子字符串首次出现的字符串内的索引。
   - `lastIndexOf(str)` - 返回指定子字符串最后一次出现的字符串内的索引。<br />
      ><em>使用示例：在搜索功能中，找到用户输入关键词在文档中的位置。</em>
   - `startsWith(prefix)` - 判断字符串是否以指定前缀开始。
   - `endsWith(suffix)` - 判断字符串是否以指定后缀结束。<br />
      ><em>使用示例：在文件处理中，判断文件的扩展名或者是检测URL的协议类型。</em>

2. **比较类方法** - 用于两个字符串之间的比较
   - `equals(otherString)` - 比较两个字符串是否相等。
   - `equalsIgnoreCase(otherString)` - 与`equals`方法类似，但忽略大小写差异。<br />
      ><em>使用示例：在登录功能中，比较用户输入的密码与数据库中存储的密码是否一致。</em>
   - `compareTo(otherString)` - 比较两个字符串的大小（字典顺序）。
   - `compareToIgnoreCase(otherString)` - 与`compareTo`方法类似，但忽略大小写差异。<br />
      ><em>使用示例：在排序应用中，根据字符串字典顺序进行排序操作。</em>

3. **操作类方法** - 对字符串进行某些操作，如转换、替换等
   - `concat(str)` - 将指定字符串连接到此字符串的末尾。<br />
      ><em>使用示例：在文本编辑器中，进行文本的合并操作。</em>
   - `replace(oldChar,newChar)` - 返回一个新的字符串，它是通过用`newChar`替换此字符串中出现的所有`oldChar`得到的。<br />
      ><em>使用示例：在处理用户输入内容时，去除或替换不合法字符。</em>
   - `substring(beginIndex)` 或 `substring(beginIndex, endIndex)` - 返回一个新的字符串，它是此字符串的一个子字符串。<br />
      ><em>使用示例：在文本分析时，提取指定范围内的字符串。tips:一般是格式化字符串</em>
   - `toLowerCase()` - 使用默认语言环境的规则将此`String`中的所有字符转换为小写。
   - `toUpperCase()` - 使用默认语言环境的规则将此`String`中的所有字符转换为大写。<br />
      ><em>使用示例：处理搜索查询时，忽略大小写的差异，以提供更灵活的搜索。</em>
   - `trim()` - 返回字符串的副本，忽略前导空白和尾部空白。<br />
      ><em>使用示例：</em>

4. **分割类方法** - 将字符串分割为若干部分
   - `split(regex)` - 根据匹配给定的正则表达式来分割字符串。<br />
      ><em>使用示例：读取CSV文件时，按逗号分隔取得每一列数据。</em>

5. **转换类方法** - 与其他数据类型之间的转换
   - `getBytes()` - 使用默认字符集将此`String`编码为一系列字节，将结果存储到一个新的字节数组中。<br />
      ><em>使用示例：在网络传输中，将字符串转换成字节流进行发送。</em>
   - `valueOf(param)` - 返回`param`数据类型的字符串表现形式。例如，可以是`valueOf(int)`，`valueOf(boolean)`等。<br />
      ><em>使用示例：在记录日志或显示消息时，将各种类型数据转换为字符串形式进行拼接和展示。</em>

每一个类别包含了针对String对象可以执行的相关操作和查询。在编程时，你可以选择合适的方法来完成你的需求。

### 移位运算
移位运算符是最基本的运算符之一，几乎每种编程语言都包含这一运算符。移位操作中，被操作的数据被视为二进制数，移位就是将其向左或向右移动若干位的运算。

移位运算符在各种框架以及 JDK 自身的源码中使用还是挺广泛的，`HashMap`（JDK1.8） 中的 `hash` 方法的源码就用到了移位运算符：

```java
static final int hash(Object key) {
    int h;
    // key.hashCode()：返回散列值也就是hashcode
    // ^：按位异或
    // >>>:无符号右移，忽略符号位，空位都以0补齐
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
  }

```
Java中的移位运算符主要用于对二进制数进行操作。移位运算符包括左移(`<<`)、右移(`>>`)和无符号右移(`>>>`)。下面分别对这三种运算符进行详细解释：
- `<<` :左移运算符，向左移若干位，高位丢弃，低位补零。`x << 1`,相当于 x 乘以 2(不溢出的情况下)。
- `>>` :带符号右移，向右移若干位，高位补符号位，低位丢弃。正数高位补 0,负数高位补 1。`x >> 1`,相当于 x 除以 2。
- `>>>` :无符号右移，忽略符号位，空位都以 0 补齐。

由于 `double`，`float` 在二进制中的表现比较特殊，因此不能来进行移位操作。

移位操作符实际上支持的类型只有`int`和`long`，编译器在对`short`、`byte`、`char`类型进行移位前，都会将其转换为`int`类型再操作。

Java中的移位运算符可以用于快速进行乘除运算，例如：
- `x << n` 相当于 `x * (2^n)`。
- `x >> n` 相当于 `x / (2^n)`，但只适用于整数运算。
- `x >>> n` 在某些情况下用于保持正数的符号，同时将数值除以`2^n`。
需要注意的是，当对负数进行右移操作时，由于负数以补码形式表示，高位补1，因此结果可能不是直观的除以2的幂。而无符号右移运算符则不会遇到这个问题，因为它总是补0。<br />
对于任何负整数，如果进行足够多的有符号右移操作，最终都会得到-1，因为每次右移都会保持符号位不变，并且逐渐将其他位移出，直到只剩下符号位。这是补码表示法的一个特性，它确保了负数在进行右移操作时保持其负号。<br />
移位运算符在处理较大数的乘除运算时非常高效，但使用时也要注意不要超出数据类型的范围，例如，对`int`类型进行左移操作时，如果移动的位数过大，可能会导致数据溢出。


### 运算符
在Java中，整数之间的除法运算会得到整数结果，并且是截断小数部分。因此，10除以3的结果是3（而不是3.3333…）

### 基本类型和包装类型的区别？

![基本类型 vs 包装类型](https://oss.javaguide.cn/github/javaguide/java/basis/primitive-type-vs-packaging-type.png)

- **用途**：除了定义一些常量和局部变量之外，我们在其他地方比如方法参数、对象属性中很少会使用基本类型来定义变量。并且，包装类型可用于泛型，而基本类型不可以。
- **存储方式**：基本数据类型的局部变量存放在 Java 虚拟机栈中的局部变量表中，基本数据类型的成员变量（未被 `static` 修饰 ）存放在 Java 虚拟机的堆中。包装类型属于对象类型，我们知道几乎所有对象实例都存在于堆中。
- **占用空间**：相比于包装类型（对象类型）， 基本数据类型占用的空间往往非常小。
- **默认值**：成员变量包装类型不赋值就是 `null` ，而基本类型有默认值且不是 `null`。
- **比较方式**：对于基本数据类型来说，`==` 比较的是值。对于包装数据类型来说，`==` 比较的是对象的内存地址。所有整型包装类对象之间值的比较，全部使用 `equals()` 方法。